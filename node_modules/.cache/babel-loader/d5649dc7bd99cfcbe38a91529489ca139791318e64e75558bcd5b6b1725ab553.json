{"ast":null,"code":"// API service pro komunikaci s backendem\n// prepinac mezi mock daty a real API (pro odevzdani musi byt TRUE)\nconst USE_MOCK=true;// PREPINAC - pro odevzdani TRUE\nconst API_BASE_URL='http://localhost:3001';const MOCK_DELAY=500;// simulace zpozdeni\n// pomocna funkce pro delay\nconst delay=ms=>new Promise(resolve=>setTimeout(resolve,ms));// Mock data storage\nlet mockLists=[];let mockCurrentUser=null;// inicializace mock dat\nexport const initMockData=(lists,currentUser)=>{mockLists=JSON.parse(JSON.stringify(lists));// deep copy\nmockCurrentUser=currentUser;console.log(\"Mock data inicializovana:\",mockLists.length,\"seznamu\");};// ========== SHOPPING LISTS ==========\nexport const getAllLists=async()=>{if(USE_MOCK){console.log(\"Mock: Ziskavam vsechny seznamy\");await delay(MOCK_DELAY);const userLists=mockLists.filter(list=>list.ownerId===mockCurrentUser.id||list.members.some(m=>m.userId===mockCurrentUser.id));return{data:userLists,error:null};}else{try{const response=await fetch(\"\".concat(API_BASE_URL,\"/list\"),{headers:{'Authorization':\"Bearer mock-token\"}});if(!response.ok)throw new Error('Chyba pri nacitani seznamu');const data=await response.json();return{data,error:null};}catch(error){return{data:null,error:error.message};}}};export const createList=async listName=>{if(USE_MOCK){console.log(\"Mock: Vytvarim novy seznam:\",listName);await delay(MOCK_DELAY);const newList={id:\"list-\".concat(Date.now()),name:listName,ownerId:mockCurrentUser.id,archived:false,items:[],members:[]};mockLists.push(newList);// vratim deep copy aby nedoslo ke shared reference\nreturn{data:JSON.parse(JSON.stringify(newList)),error:null};}else{try{const response=await fetch(\"\".concat(API_BASE_URL,\"/list/create\"),{method:'POST',headers:{'Content-Type':'application/json','Authorization':\"Bearer mock-token\"},body:JSON.stringify({jmeno:listName})});if(!response.ok)throw new Error('Chyba pri vytvareni seznamu');const data=await response.json();return{data,error:null};}catch(error){return{data:null,error:error.message};}}};export const deleteList=async listId=>{if(USE_MOCK){console.log(\"Mock: Mazu seznam\",listId);await delay(MOCK_DELAY);const index=mockLists.findIndex(l=>l.id===listId);if(index===-1)return{data:null,error:\"Seznam nenalezen\"};mockLists.splice(index,1);return{data:{success:true},error:null};}else{try{const response=await fetch(\"\".concat(API_BASE_URL,\"/list/\").concat(listId),{method:'DELETE',headers:{'Authorization':\"Bearer mock-token\"}});if(!response.ok)throw new Error('Chyba pri mazani seznamu');return{data:{success:true},error:null};}catch(error){return{data:null,error:error.message};}}};export const updateListName=async(listId,newName)=>{if(USE_MOCK){console.log(\"Mock: Updatuju nazev seznamu\",listId,newName);await delay(MOCK_DELAY);const list=mockLists.find(l=>l.id===listId);if(!list)return{data:null,error:\"Seznam nenalezen\"};list.name=newName;return{data:list,error:null};}else{// backend nema tento endpoint\nreturn{data:null,error:\"Funkce neni implementovana\"};}};export const archiveList=async(listId,archived)=>{if(USE_MOCK){console.log(\"Mock: Archivuji seznam\",listId,archived);await delay(MOCK_DELAY);const list=mockLists.find(l=>l.id===listId);if(!list)return{data:null,error:\"Seznam nenalezen\"};list.archived=archived;return{data:list,error:null};}else{try{const response=await fetch(\"\".concat(API_BASE_URL,\"/list/\").concat(listId,\"/archive\"),{method:'PUT',headers:{'Content-Type':'application/json','Authorization':\"Bearer mock-token\"},body:JSON.stringify({archived})});if(!response.ok)throw new Error('Chyba pri archivaci');const data=await response.json();return{data,error:null};}catch(error){return{data:null,error:error.message};}}};// ========== ITEMS ==========\nexport const addItem=async(listId,itemName)=>{if(USE_MOCK){console.log(\"Mock: Pridavam polozku\",itemName);await delay(MOCK_DELAY);const list=mockLists.find(l=>l.id===listId);if(!list)return{data:null,error:\"Seznam nenalezen\"};const newItem={id:\"item-\".concat(Date.now()),name:itemName,resolved:false};list.items.push(newItem);// vratim deep copy aby nedoslo ke shared reference\nreturn{data:JSON.parse(JSON.stringify(newItem)),error:null};}else{try{const response=await fetch(\"\".concat(API_BASE_URL,\"/list/\").concat(listId,\"/item\"),{method:'POST',headers:{'Content-Type':'application/json','Authorization':\"Bearer mock-token\"},body:JSON.stringify({name:itemName})});if(!response.ok)throw new Error('Chyba pri pridavani polozky');const data=await response.json();return{data,error:null};}catch(error){return{data:null,error:error.message};}}};export const deleteItem=async(listId,itemId)=>{if(USE_MOCK){console.log(\"Mock: Mazu polozku\",itemId);await delay(MOCK_DELAY);const list=mockLists.find(l=>l.id===listId);if(!list)return{data:null,error:\"Seznam nenalezen\"};const itemIndex=list.items.findIndex(i=>i.id===itemId);if(itemIndex===-1)return{data:null,error:\"Polozka nenalezena\"};list.items.splice(itemIndex,1);return{data:{success:true},error:null};}else{try{const response=await fetch(\"\".concat(API_BASE_URL,\"/list/\").concat(listId,\"/item/\").concat(itemId),{method:'DELETE',headers:{'Authorization':\"Bearer mock-token\"}});if(!response.ok)throw new Error('Chyba pri mazani polozky');return{data:{success:true},error:null};}catch(error){return{data:null,error:error.message};}}};export const toggleItemResolved=async(listId,itemId,resolved)=>{if(USE_MOCK){console.log(\"Mock: Toggle polozky\",itemId,\"resolved:\",resolved);await delay(MOCK_DELAY);const list=mockLists.find(l=>l.id===listId);if(!list)return{data:null,error:\"Seznam nenalezen\"};const item=list.items.find(i=>i.id===itemId);if(!item)return{data:null,error:\"Polozka nenalezena\"};item.resolved=resolved;return{data:item,error:null};}else{try{const response=await fetch(\"\".concat(API_BASE_URL,\"/list/\").concat(listId,\"/item/\").concat(itemId,\"/mark\"),{method:'PUT',headers:{'Content-Type':'application/json','Authorization':\"Bearer mock-token\"},body:JSON.stringify({resolved})});if(!response.ok)throw new Error('Chyba pri zmene stavu polozky');const data=await response.json();return{data,error:null};}catch(error){return{data:null,error:error.message};}}};// ========== MEMBERS ==========\nexport const addMember=async(listId,memberName)=>{if(USE_MOCK){console.log(\"Mock: Pridavam clena\",memberName);await delay(MOCK_DELAY);const list=mockLists.find(l=>l.id===listId);if(!list)return{data:null,error:\"Seznam nenalezen\"};const newMember={userId:\"user-\".concat(Date.now()),name:memberName};list.members.push(newMember);// vratim deep copy aby nedoslo ke shared reference\nreturn{data:JSON.parse(JSON.stringify(newMember)),error:null};}else{try{const response=await fetch(\"\".concat(API_BASE_URL,\"/list/\").concat(listId,\"/member\"),{method:'POST',headers:{'Content-Type':'application/json','Authorization':\"Bearer mock-token\"},body:JSON.stringify({name:memberName})});if(!response.ok)throw new Error('Chyba pri pridavani clena');const data=await response.json();return{data,error:null};}catch(error){return{data:null,error:error.message};}}};export const removeMember=async(listId,memberId)=>{if(USE_MOCK){console.log(\"Mock: Odebiram clena\",memberId);await delay(MOCK_DELAY);const list=mockLists.find(l=>l.id===listId);if(!list)return{data:null,error:\"Seznam nenalezen\"};const memberIndex=list.members.findIndex(m=>m.userId===memberId);if(memberIndex===-1)return{data:null,error:\"Clen nenalezen\"};list.members.splice(memberIndex,1);return{data:{success:true},error:null};}else{try{const response=await fetch(\"\".concat(API_BASE_URL,\"/list/\").concat(listId,\"/member/\").concat(memberId),{method:'DELETE',headers:{'Authorization':\"Bearer mock-token\"}});if(!response.ok)throw new Error('Chyba pri odebirani clena');return{data:{success:true},error:null};}catch(error){return{data:null,error:error.message};}}};","map":{"version":3,"names":["USE_MOCK","API_BASE_URL","MOCK_DELAY","delay","ms","Promise","resolve","setTimeout","mockLists","mockCurrentUser","initMockData","lists","currentUser","JSON","parse","stringify","console","log","length","getAllLists","userLists","filter","list","ownerId","id","members","some","m","userId","data","error","response","fetch","concat","headers","ok","Error","json","message","createList","listName","newList","Date","now","name","archived","items","push","method","body","jmeno","deleteList","listId","index","findIndex","l","splice","success","updateListName","newName","find","archiveList","addItem","itemName","newItem","resolved","deleteItem","itemId","itemIndex","i","toggleItemResolved","item","addMember","memberName","newMember","removeMember","memberId","memberIndex"],"sources":["C:/Users/Matyáš Baťha/Documents/UnicornFrontend/shoppinglist/src/services/api.js"],"sourcesContent":["// API service pro komunikaci s backendem\r\n// prepinac mezi mock daty a real API (pro odevzdani musi byt TRUE)\r\n\r\nconst USE_MOCK = true;  // PREPINAC - pro odevzdani TRUE\r\n\r\nconst API_BASE_URL = 'http://localhost:3001';\r\nconst MOCK_DELAY = 500;  // simulace zpozdeni\r\n\r\n// pomocna funkce pro delay\r\nconst delay = (ms) => new Promise(resolve => setTimeout(resolve, ms));\r\n\r\n// Mock data storage\r\nlet mockLists = [];\r\nlet mockCurrentUser = null;\r\n\r\n// inicializace mock dat\r\nexport const initMockData = (lists, currentUser) => {\r\n  mockLists = JSON.parse(JSON.stringify(lists));  // deep copy\r\n  mockCurrentUser = currentUser;\r\n  console.log(\"Mock data inicializovana:\", mockLists.length, \"seznamu\");\r\n};\r\n\r\n// ========== SHOPPING LISTS ==========\r\n\r\nexport const getAllLists = async () => {\r\n  if (USE_MOCK) {\r\n    console.log(\"Mock: Ziskavam vsechny seznamy\");\r\n    await delay(MOCK_DELAY);\r\n    const userLists = mockLists.filter(list => \r\n      list.ownerId === mockCurrentUser.id || \r\n      list.members.some(m => m.userId === mockCurrentUser.id)\r\n    );\r\n    return { data: userLists, error: null };\r\n  } else {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/list`, {\r\n        headers: { 'Authorization': `Bearer mock-token` }\r\n      });\r\n      if (!response.ok) throw new Error('Chyba pri nacitani seznamu');\r\n      const data = await response.json();\r\n      return { data, error: null };\r\n    } catch (error) {\r\n      return { data: null, error: error.message };\r\n    }\r\n  }\r\n};\r\n\r\nexport const createList = async (listName) => {\r\n  if (USE_MOCK) {\r\n    console.log(\"Mock: Vytvarim novy seznam:\", listName);\r\n    await delay(MOCK_DELAY);\r\n    const newList = {\r\n      id: `list-${Date.now()}`,\r\n      name: listName,\r\n      ownerId: mockCurrentUser.id,\r\n      archived: false,\r\n      items: [],\r\n      members: []\r\n    };\r\n    mockLists.push(newList);\r\n    // vratim deep copy aby nedoslo ke shared reference\r\n    return { data: JSON.parse(JSON.stringify(newList)), error: null };\r\n  } else {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/list/create`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer mock-token`\r\n        },\r\n        body: JSON.stringify({ jmeno: listName })\r\n      });\r\n      if (!response.ok) throw new Error('Chyba pri vytvareni seznamu');\r\n      const data = await response.json();\r\n      return { data, error: null };\r\n    } catch (error) {\r\n      return { data: null, error: error.message };\r\n    }\r\n  }\r\n};\r\n\r\nexport const deleteList = async (listId) => {\r\n  if (USE_MOCK) {\r\n    console.log(\"Mock: Mazu seznam\", listId);\r\n    await delay(MOCK_DELAY);\r\n    const index = mockLists.findIndex(l => l.id === listId);\r\n    if (index === -1) return { data: null, error: \"Seznam nenalezen\" };\r\n    mockLists.splice(index, 1);\r\n    return { data: { success: true }, error: null };\r\n  } else {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/list/${listId}`, {\r\n        method: 'DELETE',\r\n        headers: { 'Authorization': `Bearer mock-token` }\r\n      });\r\n      if (!response.ok) throw new Error('Chyba pri mazani seznamu');\r\n      return { data: { success: true }, error: null };\r\n    } catch (error) {\r\n      return { data: null, error: error.message };\r\n    }\r\n  }\r\n};\r\n\r\nexport const updateListName = async (listId, newName) => {\r\n  if (USE_MOCK) {\r\n    console.log(\"Mock: Updatuju nazev seznamu\", listId, newName);\r\n    await delay(MOCK_DELAY);\r\n    const list = mockLists.find(l => l.id === listId);\r\n    if (!list) return { data: null, error: \"Seznam nenalezen\" };\r\n    list.name = newName;\r\n    return { data: list, error: null };\r\n  } else {\r\n    // backend nema tento endpoint\r\n    return { data: null, error: \"Funkce neni implementovana\" };\r\n  }\r\n};\r\n\r\nexport const archiveList = async (listId, archived) => {\r\n  if (USE_MOCK) {\r\n    console.log(\"Mock: Archivuji seznam\", listId, archived);\r\n    await delay(MOCK_DELAY);\r\n    const list = mockLists.find(l => l.id === listId);\r\n    if (!list) return { data: null, error: \"Seznam nenalezen\" };\r\n    list.archived = archived;\r\n    return { data: list, error: null };\r\n  } else {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/list/${listId}/archive`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer mock-token`\r\n        },\r\n        body: JSON.stringify({ archived })\r\n      });\r\n      if (!response.ok) throw new Error('Chyba pri archivaci');\r\n      const data = await response.json();\r\n      return { data, error: null };\r\n    } catch (error) {\r\n      return { data: null, error: error.message };\r\n    }\r\n  }\r\n};\r\n\r\n// ========== ITEMS ==========\r\n\r\nexport const addItem = async (listId, itemName) => {\r\n  if (USE_MOCK) {\r\n    console.log(\"Mock: Pridavam polozku\", itemName);\r\n    await delay(MOCK_DELAY);\r\n    const list = mockLists.find(l => l.id === listId);\r\n    if (!list) return { data: null, error: \"Seznam nenalezen\" };\r\n    const newItem = {\r\n      id: `item-${Date.now()}`,\r\n      name: itemName,\r\n      resolved: false\r\n    };\r\n    list.items.push(newItem);\r\n    // vratim deep copy aby nedoslo ke shared reference\r\n    return { data: JSON.parse(JSON.stringify(newItem)), error: null };\r\n  } else {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/list/${listId}/item`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer mock-token`\r\n        },\r\n        body: JSON.stringify({ name: itemName })\r\n      });\r\n      if (!response.ok) throw new Error('Chyba pri pridavani polozky');\r\n      const data = await response.json();\r\n      return { data, error: null };\r\n    } catch (error) {\r\n      return { data: null, error: error.message };\r\n    }\r\n  }\r\n};\r\n\r\nexport const deleteItem = async (listId, itemId) => {\r\n  if (USE_MOCK) {\r\n    console.log(\"Mock: Mazu polozku\", itemId);\r\n    await delay(MOCK_DELAY);\r\n    const list = mockLists.find(l => l.id === listId);\r\n    if (!list) return { data: null, error: \"Seznam nenalezen\" };\r\n    const itemIndex = list.items.findIndex(i => i.id === itemId);\r\n    if (itemIndex === -1) return { data: null, error: \"Polozka nenalezena\" };\r\n    list.items.splice(itemIndex, 1);\r\n    return { data: { success: true }, error: null };\r\n  } else {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/list/${listId}/item/${itemId}`, {\r\n        method: 'DELETE',\r\n        headers: { 'Authorization': `Bearer mock-token` }\r\n      });\r\n      if (!response.ok) throw new Error('Chyba pri mazani polozky');\r\n      return { data: { success: true }, error: null };\r\n    } catch (error) {\r\n      return { data: null, error: error.message };\r\n    }\r\n  }\r\n};\r\n\r\nexport const toggleItemResolved = async (listId, itemId, resolved) => {\r\n  if (USE_MOCK) {\r\n    console.log(\"Mock: Toggle polozky\", itemId, \"resolved:\", resolved);\r\n    await delay(MOCK_DELAY);\r\n    const list = mockLists.find(l => l.id === listId);\r\n    if (!list) return { data: null, error: \"Seznam nenalezen\" };\r\n    const item = list.items.find(i => i.id === itemId);\r\n    if (!item) return { data: null, error: \"Polozka nenalezena\" };\r\n    item.resolved = resolved;\r\n    return { data: item, error: null };\r\n  } else {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/list/${listId}/item/${itemId}/mark`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer mock-token`\r\n        },\r\n        body: JSON.stringify({ resolved })\r\n      });\r\n      if (!response.ok) throw new Error('Chyba pri zmene stavu polozky');\r\n      const data = await response.json();\r\n      return { data, error: null };\r\n    } catch (error) {\r\n      return { data: null, error: error.message };\r\n    }\r\n  }\r\n};\r\n\r\n// ========== MEMBERS ==========\r\n\r\nexport const addMember = async (listId, memberName) => {\r\n  if (USE_MOCK) {\r\n    console.log(\"Mock: Pridavam clena\", memberName);\r\n    await delay(MOCK_DELAY);\r\n    const list = mockLists.find(l => l.id === listId);\r\n    if (!list) return { data: null, error: \"Seznam nenalezen\" };\r\n    const newMember = {\r\n      userId: `user-${Date.now()}`,\r\n      name: memberName\r\n    };\r\n    list.members.push(newMember);\r\n    // vratim deep copy aby nedoslo ke shared reference\r\n    return { data: JSON.parse(JSON.stringify(newMember)), error: null };\r\n  } else {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/list/${listId}/member`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer mock-token`\r\n        },\r\n        body: JSON.stringify({ name: memberName })\r\n      });\r\n      if (!response.ok) throw new Error('Chyba pri pridavani clena');\r\n      const data = await response.json();\r\n      return { data, error: null };\r\n    } catch (error) {\r\n      return { data: null, error: error.message };\r\n    }\r\n  }\r\n};\r\n\r\nexport const removeMember = async (listId, memberId) => {\r\n  if (USE_MOCK) {\r\n    console.log(\"Mock: Odebiram clena\", memberId);\r\n    await delay(MOCK_DELAY);\r\n    const list = mockLists.find(l => l.id === listId);\r\n    if (!list) return { data: null, error: \"Seznam nenalezen\" };\r\n    const memberIndex = list.members.findIndex(m => m.userId === memberId);\r\n    if (memberIndex === -1) return { data: null, error: \"Clen nenalezen\" };\r\n    list.members.splice(memberIndex, 1);\r\n    return { data: { success: true }, error: null };\r\n  } else {\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/list/${listId}/member/${memberId}`, {\r\n        method: 'DELETE',\r\n        headers: { 'Authorization': `Bearer mock-token` }\r\n      });\r\n      if (!response.ok) throw new Error('Chyba pri odebirani clena');\r\n      return { data: { success: true }, error: null };\r\n    } catch (error) {\r\n      return { data: null, error: error.message };\r\n    }\r\n  }\r\n};\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}